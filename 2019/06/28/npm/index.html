<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>ä½ å¯èƒ½ä¸çŸ¥é“çš„ npm å°è§„å¾‹ | GaoYYYangè€å¸æœºé£™è½¦è®°å½•</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/normalize.css/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/purecss/build/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//cdn.jsdelivr.net/npm/clipboard/dist/clipboard.min.js"></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.js"></script><link rel="stylesheet" href="//cdn.jsdelivr.net/gh/codeseven/toastr/build/toastr.min.css"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ä½ å¯èƒ½ä¸çŸ¥é“çš„ npm å°è§„å¾‹</h1><a id="logo" href="/.">GaoYYYangè€å¸æœºé£™è½¦è®°å½•</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ä½ å¯èƒ½ä¸çŸ¥é“çš„ npm å°è§„å¾‹</h1><div class="post-meta">2019-06-28<span> | </span><span class="category"><a href="/categories/çŸ¥è¯†ç‚¹/">çŸ¥è¯†ç‚¹</a></span></div><div class="post-content"><p>æœ¬æ–‡ä¼šä»‹ç»ä¸€äº›å®¹æ˜“è¢«å¿½è§†ã€ä½†æ˜¯éå¸¸å®ç”¨çš„ npm å°çŸ¥è¯†ç‚¹ï¼Œå¸¦ä½ ä»ç‹¬ç‰¹çš„è§’åº¦è®¤è¯†æ¯å¤©æ‰‹è¾¹å¸¸ç”¨çš„ npm å·¥å…·ã€‚</p>
<ul>
<li>å®¹æ˜“è¢«å¿½è§†çš„ <code>dist tag</code></li>
<li>è€³ç†Ÿèƒ½è¯¦çš„npm install</li>
<li>node_modules çš„ç›®å½•ç»„ç»‡è§„å¾‹</li>
<li>è¸©å‘æŒ‡å—</li>
</ul>
<h3 id="1-å®¹æ˜“è¢«å¿½è§†çš„-dist-tag"><a href="#1-å®¹æ˜“è¢«å¿½è§†çš„-dist-tag" class="headerlink" title="1. å®¹æ˜“è¢«å¿½è§†çš„ dist tag"></a>1. å®¹æ˜“è¢«å¿½è§†çš„ <code>dist tag</code></h3><p><code>dist tag</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç‰ˆæœ¬æ ‡è®°æŒ‡é’ˆ</p>
<p><strong>æ¨¡å—å‘å¸ƒ</strong>ï¼šæ¯ä¸ªç‰ˆæœ¬å·åœ¨å‘å¸ƒæ—¶éƒ½ä¼šæœ‰ä¸€ä¸ª <code>dist tag</code> æŒ‡å‘å®ƒ</p>
<ul>
<li>è‡ªå®šä¹‰ <code>dist tag</code> ï¼šå‘å¸ƒæ—¶å¯ä»¥æŒ‡å®š <code>dist tag</code> ï¼Œå®ƒå¯ä»¥ä¸ºä»»ä½•å­—ç¬¦ä¸²ï¼ˆå¦‚ï¼šâ€™alphaâ€™ï¼Œâ€™betaâ€™ï¼‰ï¼Œè‡ªå®šä¹‰ <code>dist tag</code> é€šå¸¸ç”¨äºå‘å¸ƒå†…éƒ¨ç‰ˆæœ¬</li>
<li>é»˜è®¤ <code>dist tag</code> ä¸º â€˜latestâ€™ï¼šå‘å¸ƒæ—¶ä¸æŒ‡å®š <code>dist tag</code> æ—¶ä¼šé»˜è®¤ <code>dist tag</code> ä¸º â€˜latestâ€™ï¼Œå¯¹å¤–å‘å¸ƒçš„æ­£å¼ç‰ˆæœ¬ <code>dist tag</code> ä¸€å®šæ˜¯ â€˜latestâ€™</li>
</ul>
<p><strong>æ¨¡å—å®‰è£…</strong>ï¼š</p>
<ul>
<li>è‡ªå®šä¹‰ <code>dist tag</code> ï¼š<ul>
<li>è‡ªå®šä¹‰ <code>dist tag</code> çš„ç‰ˆæœ¬å¿…é¡»é€šè¿‡æŒ‡å®š tag name æ‰èƒ½å®‰è£…åˆ°ï¼Œå½¢å¦‚<br>  <code>npm install modulename@tagname</code></li>
<li>é»˜è®¤ <code>dist tag</code>ï¼šæ¨¡å—å®‰è£…ä¸æŒ‡å®š <code>dist tag</code> æ—¶é»˜è®¤æ‹‰å– <code>dist tag</code> ä¸º â€˜latestâ€™ çš„ç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<p>ä¸¾ä¸€åªğŸŒ°ï¼š</p>
<ul>
<li><p>æ¨¡å—å‘å¸ƒï¼š</p>
<p> æˆ‘ä»¬å‘å¸ƒ PackageA çš„ 1.0.0-alpha æ—¶ï¼Œæ‰§è¡Œ  <code>npm publish --tag alpha</code>  æ¥å‘å¸ƒ alpha ç‰ˆæœ¬ï¼›ä¿®æ”¹ç‰ˆæœ¬å·åï¼Œå†æ¬¡æ‰§è¡Œ  npm publish â€“tag alpha  æ—¶ï¼Œåˆ™ alpha ç‰ˆæœ¬ä¼šæŒ‡å‘æ–°çš„ç‰ˆæœ¬å·ã€‚</p>
</li>
<li><p>æ¨¡å—å®‰è£…ï¼š</p>
<p> é€šè¿‡ npm i PackageA@alpha æ¥å®‰è£…è¿™ä¸ª alpha ç‰ˆæœ¬ ( npm i PackageA ä¸èƒ½å®‰è£…åˆ°è¯¥ alpha ç‰ˆæœ¬)ã€‚æç¤ºï¼šnpm install PackageA ä¸ npm install PackageA@latest ç­‰ä»·ã€‚<br>gyæœ‰ä¸‰ä¸ª <code>dist tag</code> è¡¨ç¤ºä¸åŒç‰ˆæœ¬ï¼šlatest ã€dockerã€alphaï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒ gy å‘ç‰ˆè§„èŒƒ </p>
<h3 id="2-è€³ç†Ÿèƒ½è¯¦çš„npm-install"><a href="#2-è€³ç†Ÿèƒ½è¯¦çš„npm-install" class="headerlink" title="2. è€³ç†Ÿèƒ½è¯¦çš„npm install"></a>2. è€³ç†Ÿèƒ½è¯¦çš„npm install</h3><p>æˆ‘ä»¬æ¯å¤©éƒ½åœ¨ç”¨ npm install å‘½ä»¤ï¼Œä¸‹é¢åˆ†å‡ ä¸ªåœºæ™¯è®²ä¸€ä¸‹ä½ å¯èƒ½ä¼šå¿½è§†çš„ç»†èŠ‚ï¼Œè®©ä½ æœ‰æ›´æ¸…æ™°çš„è®¤è¯†ã€‚</p>
</li>
</ul>
<p><strong>å§¿åŠ¿</strong>ï¼šé™¤äº† install modulenameï¼Œä½ è¿˜å¯ä»¥ï¼š</p>
<ul>
<li>install git-urlï¼šæ¥ git åœ°å€ï¼Œè¾ƒå¸¸è§</li>
<li>install folderï¼šæ¥æœ¬åœ°æ–‡ä»¶ç›®å½•ï¼Œç±»ä¼¼äº link åŸç†</li>
<li>install tarball-fileï¼šæ¥æœ¬åœ°å‹ç¼©åŒ…ï¼Œæ”¯æŒ.tar, .tar.gz,  .tgz</li>
</ul>
<p><strong>ç‰ˆæœ¬</strong>ï¼š</p>
<p>npm install å®‰è£…æ¨¡å—æ—¶ï¼Œé»˜è®¤å®‰è£…æœ€æ™šå‘å¸ƒçš„ç‰ˆæœ¬å·ï¼Œè€Œä¸æ˜¯æœ€å¤§çš„ç‰ˆæœ¬å·ï¼Œæ‰€ä»¥ä¸è¦é€šè¿‡å‘å¸ƒæ¯”çº¿ä¸Šæ›´ä½çš„ç‰ˆæœ¬å·æ¥è¿›è¡Œå†…éƒ¨æµ‹è¯•ï¼Œè¯·ä½¿ç”¨ <code>dist tag</code>ã€‚</p>
<p><strong>æ€§èƒ½</strong>ï¼š</p>
<p>è¯¥å‘½ä»¤å¤§éƒ¨åˆ†è€—æ—¶éƒ½åœ¨è§£ææ¨¡å—ä¾èµ–æ ‘ä¸Šï¼Œåªæœ‰å¾ˆå°éƒ¨åˆ†æ—¶é—´èŠ±åœ¨ä¸‹è½½å‹ç¼©åŒ…ä¸Š(æ­£å¸¸ç½‘é€Ÿä¸‹)ï¼Œæ‰€ä»¥åªæ˜¯ç¼“å­˜ä¸‹è½½çš„ zip åŒ…æˆ–æŒä¹…åŒ– npm çš„æœ¬åœ°ç¼“å­˜å¹¶ä¸èƒ½èŠ‚çœå¾ˆå¤šæ—¶é—´ã€‚</p>
<p><strong>åœºæ™¯ä¸€</strong></p>
<ul>
<li><strong>ç”¨æ³•</strong>ï¼š npm install</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šç”¨äºå®‰è£…æœ¬åœ°é¡¹ç›®å·¥ç¨‹çš„æ‰€æœ‰ä¾èµ–ã€‚</li>
<li><strong>è§„åˆ™ï¼š</strong><ul>
<li>å‘½ä»¤ä¼šå®‰è£… dependencies å’Œ devDependenciesï¼Œå¦‚æœä¸æƒ³å®‰è£…devDependenciesï¼Œæ‰§è¡Œ npm install â€“production å³å¯</li>
<li>è¯¥å‘½ä»¤æ‰§è¡Œæ—¶ä¼šåŒ¹é… package-lock.json ä¿¡æ¯ã€ package.json ä¿¡æ¯ã€è¿œç¨‹ registryä¿¡æ¯æ˜¯å¦ä¸€è‡´ï¼Œ ä¼šåˆ†æå·²æœ‰ node_modules ç›®å½•å†…çš„æ¨¡å—çŠ¶æ€ï¼ŒæŒ‰ç…§ lock æ–‡ä»¶ä¸­é”å®šçš„ç‰ˆæœ¬è¿›è¡Œä¾èµ–å®‰è£…ã€‚</li>
</ul>
</li>
</ul>
<p><strong>åœºæ™¯äºŒ</strong></p>
<ul>
<li><strong>ç”¨æ³•</strong>ï¼š npm install PackageA</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®‰è£…ç‰¹å®šçš„åŒ… PackageA åˆ°æœ¬åœ°å·¥ç¨‹ã€‚</li>
<li><strong>è§„åˆ™ï¼š</strong><ul>
<li>è¯¥å‘½ä»¤åªå®‰è£… PackageA çš„ dependencies ï¼Œè€Œä¸ä¼šå®‰è£… PackageA çš„ devDependenciesã€‚</li>
<li>è¯¥å‘½ä»¤æ— è§†å·¥ç¨‹ç›®å½•ä¸­ package-lock.json ä¸­é”å®šçš„ç‰ˆæœ¬ï¼Œç›´æ¥å®‰è£…ï¼ˆæˆ–å‡çº§ï¼‰ PackageA åˆ° package.json ä¸­å…è®¸çš„æœ€æ–°ç‰ˆï¼ˆæœ‰æ—¶å€™å¹¶ä¸æ˜¯æœ€å¤§ç‰ˆæœ¬å·ï¼‰ï¼ŒåŒæ—¶ä¼šå‘ package.json å’Œ  package-lock.json æ–‡ä»¶å†™å…¥è¯¥æ¨¡å—çš„æœ€æ–°ç‰ˆã€‚</li>
</ul>
</li>
</ul>
<p><strong>åœºæ™¯ä¸‰</strong></p>
<ul>
<li><strong>ç”¨æ³•</strong>ï¼š npm install -g PackageA</li>
<li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šå®‰è£…ç‰¹å®šçš„åŒ… PackageA åˆ°å…¨å±€ã€‚</li>
<li><strong>è§„åˆ™ï¼š</strong><ul>
<li>è¯¥å‘½ä»¤åªå®‰è£… PackageA çš„ dependencies ï¼Œè€Œä¸ä¼šå®‰è£… devDependencies</li>
<li>ä½¿ç”¨ n ç®¡ç† node ç‰ˆæœ¬çš„æƒ…å†µï¼ŒpackageA æ¨¡å—æ˜¯å®‰è£…åˆ°ç³»ç»Ÿå…¨å±€ç›®å½•ä¸­<ul>
<li>ä¼˜ç‚¹ï¼šçº¯ js æ¨¡å—åœ¨ä¸åŒ nodejs ç‰ˆæœ¬ä¸‹æ— éœ€å†æ¬¡å®‰è£…</li>
<li>ç¼ºç‚¹ï¼šæ¨¡å—å¦‚æœå«æœ‰ä¸€äº› c æ¨¡å—ï¼Œnodejs ç‰ˆæœ¬åˆ‡æ¢æ—¶å¯èƒ½éœ€è¦é‡æ–°å®‰è£…è¯¥æ¨¡å—ï¼Œå¦‚ node-sassã€‚</li>
</ul>
</li>
<li>å¯¹äº nvm ç®¡ç†çš„æ¨¡å—ï¼Œä¼šæŠŠ packageA å®‰è£…åˆ°å½“å‰ nodejs ç‰ˆæœ¬æ‰€åœ¨ç›®å½•ä¸­ï¼Œä¼˜ç¼ºç‚¹è·Ÿ n æ­£å¥½ç›¸åã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-node-modules-çš„ç›®å½•ç»„ç»‡è§„å¾‹"><a href="#3-node-modules-çš„ç›®å½•ç»„ç»‡è§„å¾‹" class="headerlink" title="3. node_modules çš„ç›®å½•ç»„ç»‡è§„å¾‹"></a>3. node_modules çš„ç›®å½•ç»„ç»‡è§„å¾‹</h3><p>æ–°ç‰ˆçš„ npm ï¼Œå·¥ç¨‹çš„æ‰€æœ‰ä¾èµ– ï¼ˆåŒ…æ‹¬ä¾èµ–çš„ä¸‹çº§ä¾èµ–ï¼‰éƒ½ä¼šè¢«å®‰è£…åˆ° node_modules æ ¹ç›®å½•ä¸‹ä»¥æœ€å¤§å¯èƒ½å¤ç”¨æ¨¡å—ã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœ‰é¡¹ç›®å·¥ç¨‹ç›®å½•çš„ package.json å¦‚ä¸‹ï¼š<br>// package.json<br>{<br>    â€œnameâ€: â€œprojectâ€,<br>    â€œdependenciesâ€: {<br>        â€œBâ€: â€œ0.0.3â€ // Bä¸­å­˜åœ¨ä¾èµ– <a href="mailto:A@0.0.1" target="_blank" rel="noopener">A@0.0.1</a><br>      },<br>      â€œdevDependenciesâ€: {<br>        â€œAâ€: â€œ0.0.2â€<br>      }<br>}</p>
<ul>
<li>æ¨¡å— B çš„ package.json å¦‚ä¸‹ï¼š<br>{<pre><code>&quot;name&quot;: &quot;B&quot;,
&quot;dependencies&quot;: {
  &quot;A&quot;: &quot;0.0.1&quot;
}
</code></pre>}<br>å·¥ç¨‹æ ¹ç›®å½•æ‰§è¡Œ npm install  æ—¶ï¼Œå¾—åˆ°å¦‚ä¸‹ç›®å½•<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">project</span><br><span class="line">â”œâ”€â”€package.json</span><br><span class="line">â”œâ”€â”€node_modules  // ç¬¬ä¸€çº§</span><br><span class="line">    â”œâ”€â”€ A@0.0.2</span><br><span class="line">    â”œâ”€â”€ B</span><br><span class="line">        â”œâ”€â”€ node_modules // ç¬¬äºŒçº§</span><br><span class="line">            â”œâ”€â”€ A@0.0.1</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>å¯ä»¥çœ‹åˆ°æ¨¡å— A åŒæ—¶è¢« project çš„ devDependencieså’Œ B æ¨¡å—çš„ dependencieså¼•ç”¨ï¼Œä¸”å¼•ç”¨çš„ç‰ˆæœ¬ä¸åŒï¼Œæ‰€ä»¥ä¼šå®‰è£…ä¸¤ä»½ A ï¼Œproject ä¾èµ–çš„ <a href="mailto:A@0.0.2" target="_blank" rel="noopener">A@0.0.2</a> å®‰è£…åœ¨å·¥ç¨‹çš„ node_moduels æ ¹ç›®å½•ä¸­ï¼ŒB æ¨¡å—ä¾èµ–çš„ <a href="mailto:A@0.0.1" target="_blank" rel="noopener">A@0.0.1</a> å®‰è£…åœ¨è‡ªå·±ç›®å½•ä¸‹å±‚çš„ node_modules ä¸­ã€‚</p>
<p>å·¥ç¨‹æ ¹ç›®å½•æ‰§è¡Œ npm install â€“production  å¯¹æ¯”ç»“æœï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">project</span><br><span class="line">â”œâ”€â”€package.json</span><br><span class="line">â”œâ”€â”€node_modules  // ç¬¬ä¸€çº§</span><br><span class="line">    â”œâ”€â”€ B</span><br><span class="line">        â”œâ”€â”€ node_modules // ç¬¬äºŒçº§</span><br><span class="line">            â”œâ”€â”€ A@0.0.1</span><br></pre></td></tr></table></figure></p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œè™½ç„¶é€šè¿‡ <code>--production</code> æŒ‡ä»¤ï¼Œåœ¨å®‰è£… project çš„ä¾èµ–æ—¶è¿‡æ»¤äº† devDependencies ä¸­æ¨¡å— A çš„å®‰è£…ï¼Œä½†æ˜¯ B æ¨¡å—ä¸­çš„ä¾èµ– A ä»æ—§å®‰è£…åœ¨çš„æ¨¡å— B ç›®å½•ä¸‹çš„ node_modules å†…ï¼Œå¹¶æ²¡æœ‰æåˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­ã€‚</p>
<p><strong>ç”±æ­¤å‘ç°äº† npm ä¸€ä¸ªéå¸¸ä¸äººæ€§åŒ–çš„åœ°æ–¹ï¼šnpm install æ—¶ç›®å½•çš„ç»„ç»‡åªä¼šè€ƒè™‘ package.json æ–‡ä»¶æœ¬èº«ï¼Œè€Œä¸ä¼šå…¼é¡¾å‘½ä»¤è¡Œä½¿ç”¨å§¿åŠ¿é€ æˆçš„ devDependencies æ˜¯å¦å®‰è£…çš„å½±å“ã€‚</strong> è¿™ä¸ªç‰¹ç‚¹å¤§å¤šæƒ…å†µä¸‹å¹¶æ²¡æœ‰ä»€ä¹ˆå‰¯ä½œç”¨ï¼Œä½†æ€»å­˜åœ¨ä¾‹å¤–çš„æƒ…å†µï¼Œå¯ä»¥æŸ¥çœ‹ä¸‹é¢çš„ç« èŠ‚</p>
<h3 id="4-node-modules-ç›®å½•ç»„ç»‡ä¸-peerDependencies-çš„å‘"><a href="#4-node-modules-ç›®å½•ç»„ç»‡ä¸-peerDependencies-çš„å‘" class="headerlink" title="4. node_modules ç›®å½•ç»„ç»‡ä¸ peerDependencies çš„å‘"></a>4. node_modules ç›®å½•ç»„ç»‡ä¸ peerDependencies çš„å‘</h3><p>peerDependencies æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p>
<p>è€ƒè™‘ä¸‹é¢å‡ ä¸ªæ¨¡å—çš„å…³ç³»ï¼š</p>
<ul>
<li>babel-plugins ä¸ babel</li>
<li>eslint-plugins ä¸ eslint</li>
</ul>
<p>ä»¥ babel ä¸ºä¾‹ï¼Œå…¶ä¸­ babel-plugin ä¼šè°ƒç”¨ babel ï¼Œä½†æ˜¯é’ˆå¯¹æ¯ä¸€ä¸ª babel-pluginï¼Œæ˜¯ä¸å¯èƒ½éƒ½æŠŠ babel ä½œä¸º dependency å•ç‹¬å®‰è£…ä¸€éçš„ã€‚è€Œ babel-plugin çš„ä¸åŒç‰ˆæœ¬å¯èƒ½ä¼šå¯¹ babel ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œåœ¨è¿™ç§æƒ…å†µ babel ä¼šä½œä¸º babel-plugin çš„ peerDependency å‡ºç°ã€‚</p>
<p>åœ¨ npm install babel-plugin-A æ—¶ï¼Œè‹¥å·¥ç¨‹ä¸­æ²¡æœ‰å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„ babelï¼Œåˆ™ä¼šå‘å‡ºè­¦å‘Šï¼Œä½†ä¸ä¼šä¸»åŠ¨å®‰è£… babelã€‚</p>
<p>ç±»ä¼¼çš„æƒ…å†µè¿˜æœ‰ antd ä¹‹äº react<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot;: &quot;antd&quot;,</span><br><span class="line">  &quot;peerDependencies&quot;: &#123;</span><br><span class="line">    &quot;react&quot;: &quot;&gt;=16.0.0&quot;,</span><br><span class="line">    &quot;react-dom&quot;: &quot;&gt;=16.0.0&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><strong>å‘æ¥äº†</strong></p>
<p>é¡¹ç›®ä¸­ç¢°åˆ°è¿‡å¦‚ä¸‹æƒ…å†µï¼Œåœ¨å¼€å‘ @scopt/gy-lint æ¨¡å—æ—¶ï¼Œ@scopt/gy-lint çš„ package.json å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;@scopt/gy-lint&quot;,</span><br><span class="line">    &quot;dependencies&quot;: &#123;</span><br><span class="line">        &quot;eslint&quot;: &quot;5.9.0&quot;,</span><br><span class="line">        &quot;eslint-plugin-import&quot;: &quot;^2.14.0&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>gy ä¸»æ¡†æ¶æ¨¡å—çš„ package.json å¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;name&quot;: &quot;@scopt/gy&quot;,</span><br><span class="line">    &quot;dependencies&quot;: &#123;</span><br><span class="line">        &quot;@scopt/gy-lint&quot;: &quot;^1.0.0&quot;</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;devDependencies&quot;: &#123;</span><br><span class="line">        &quot;eslint&quot;: &quot;5.8.0&quot;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>æˆ‘ä»¬æ‰§è¡Œ <code>npm install -g @scopt/gy</code> æ—¶ï¼Œå¾—åˆ°çš„ç›®å½•å¦‚ä¸‹ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">gy</span><br><span class="line">â”œâ”€â”€package.json</span><br><span class="line">â”œâ”€â”€node_modules  // ç¬¬ä¸€çº§</span><br><span class="line">    â”œâ”€â”€ eslint-plugin-import@2.14.0</span><br><span class="line">    â”œâ”€â”€ @scopt/gy-lint</span><br><span class="line">        â”œâ”€â”€ node_modules // ç¬¬äºŒçº§</span><br><span class="line">            â”œâ”€â”€ eslint</span><br></pre></td></tr></table></figure></p>
<p>è§£é‡Šï¼šå› ä¸º gy ä¸»æ¡†æ¶æ¨¡å—ä¸­çš„ devDepenencies ä¸­å­˜åœ¨ eslint åº“ï¼Œå³ä½¿å®‰è£… gy æ—¶å¹¶æ²¡æœ‰å®‰è£…è¯¥ <a href="mailto:eslint@5.8.0" target="_blank" rel="noopener">eslint@5.8.0</a> ï¼Œnpm åˆ†æ gy-lint çš„ä¾èµ–æ—¶ä¾æ—§ä¼šè®¤ä¸ºå¤–å±‚ <a href="mailto:eslint@5.8.0" target="_blank" rel="noopener">eslint@5.8.0</a> å­˜åœ¨ ï¼Œä»è€ŒæŠŠ gy-lint ä¾èµ–çš„ <a href="mailto:eslint@5.9.0" target="_blank" rel="noopener">eslint@5.9.0</a> å®‰è£…åˆ°äº†  gy-lint æ¨¡å—å†…éƒ¨çš„ node_modules ä¸­ã€‚</p>
<p>è€Œ gy-lint çš„å¦å¤–ä¸€ä¸ªä¾èµ– <a href="mailto:eslint-plugin-import@2.14.0" target="_blank" rel="noopener">eslint-plugin-import@2.14.0</a> ä¼šè¢«é»˜è®¤å®‰è£…åˆ° node_modules æ ¹ç›®å½•ä¸­ã€‚</p>
<p>å¦‚æ­¤å¯¼è‡´ï¼šå¤–å±‚çš„ eslint-plugin-import æ’ä»¶åœ¨ require(â€˜eslintâ€™) æ—¶ä¼šæ‰¾ä¸åˆ°æ¨¡å— eslint è€ŒæŠ¥é”™ï¼Œå› ä¸º eslint è¢«å®‰è£…åˆ°äº† @scopt/gy-lint å†…éƒ¨ã€‚</p>
<p>å¯ä»¥é€šè¿‡ç»Ÿä¸€å¤–å±‚ gy ä¸»æ¡†æ¶ä¸ gy-lint çš„ eslint ç‰ˆæœ¬ä»¥å›é¿è¿™ä¸ªé—®é¢˜ã€‚</p>
<h3 id="5-npm-ci"><a href="#5-npm-ci" class="headerlink" title="5. npm ci"></a>5. npm ci</h3><p>ä¸Šé¢æåˆ°ï¼Œnpm install å¤§éƒ¨åˆ†æ—¶é—´éƒ½æ¶ˆè€—åœ¨ä¾èµ–æ ‘è®¡ç®—åˆ†æä¸Šï¼Œä½¿ç”¨ npm ci å¯ä»¥ä¼˜åŒ–è¿™ä¸ªè¿‡ç¨‹ã€‚ä½¿ç”¨ npm ci éœ€è¦äº†è§£ä»¥ä¸‹å‡ ç‚¹ï¼š</p>
<ul>
<li>è¯¥é¡¹ç›®å¿…é¡»æœ‰ä¸€ä¸ªpackage-lock.json æˆ– npm-shrinkwrap.jsonã€‚</li>
<li>å¦‚æœç¨‹åºåŒ…é”ä¸­çš„ä¾èµ–é¡¹ä¸å…¶ä¸­çš„ä¾èµ–é¡¹ä¸åŒ¹é…package.jsonï¼Œnpm ciåˆ™å°†é€€å‡ºå¹¶æ˜¾ç¤ºé”™è¯¯ï¼Œè€Œä¸æ˜¯æ›´æ–°ç¨‹åºåŒ…é”ã€‚</li>
<li>npm ci åªèƒ½ä¸€æ¬¡å®‰è£…æ•´ä¸ªé¡¹ç›®ï¼šä½¿ç”¨æ­¤å‘½ä»¤æ— æ³•æ·»åŠ å•ä¸ªä¾èµ–é¡¹ã€‚</li>
<li>å¦‚æœ node_moduleså·²ç»å­˜åœ¨ï¼Œå®ƒå°†åœ¨npm ciå¼€å§‹å®‰è£…ä¹‹å‰è‡ªåŠ¨åˆ é™¤ã€‚</li>
<li>å®ƒæ°¸è¿œä¸ä¼šå†™å…¥package.jsonæˆ–ä»»ä½•åŒ…é”ï¼šå®‰è£…åŸºæœ¬ä¸Šæ˜¯å†»ç»“çš„ã€‚</li>
</ul>
<p>ä¸æ»¡è¶³äº npm ci ï¼Œæƒ³è¦å®‰è£…æ›´å¿«ï¼Ÿå¯ä»¥äº†è§£ä¸€ä¸‹ gy fastinstall æ’ä»¶ ä¾èµ–ç¼“å­˜æ–¹æ¡ˆè®¾è®¡ </p>
<h3 id="6-npm-deprecate"><a href="#6-npm-deprecate" class="headerlink" title="6.npm deprecate"></a>6.npm deprecate</h3><p>å¼€å‘å·¥å…·åº“çš„åŒå­¦å¯ä»¥å…³æ³¨ä¸€ä¸‹è¿™ä¸ªå‘½ä»¤ï¼Œå‘½ä»¤ç”¨äºæ ‡è®°å†å²çš„æŸç‰ˆæœ¬å·²ä½œåºŸè¿‡æœŸï¼Œå¦‚ </p>
<p><code>npm deprecate modulename@&quot;&lt;2.0.0&quot; &quot;å°äº 2.0.0 çš„ç‰ˆæœ¬å·²ç»è¿‡æœŸï¼Œè¯·å‡çº§&quot;</code></p>
</div><div class="tags"><a href="/tags/npm/"><i class="fa fa-tag"></i>npm</a></div><div class="post-nav"><a class="pre" href="/2019/10/21/è§†é¢‘é¡µé¢å†…å­˜æ³„éœ²çš„è¿½æŸ¥ä¸è§£å†³æ–¹æ¡ˆ/">è§†é¢‘é¡µé¢å†…å­˜æ³„éœ²çš„è¿½æŸ¥ä¸è§£å†³æ–¹æ¡ˆï¼ˆè®°ä¸€æ¬¡ Chrome GC Bug çš„å‘ç°ï¼‰</a><a class="next" href="/2018/12/26/webpack-module-resolve/">webpack æ¨¡å—è§£æä¹‹ commonjs å’Œ esModule æ··ç”¨é—®é¢˜</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"><input type="hidden" name="sitesearch" value="http://GaoYYYang.github.io"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Webpack/">Webpack</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/çŸ¥è¯†ç‚¹/">çŸ¥è¯†ç‚¹</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/é—®é¢˜æ’æŸ¥/">é—®é¢˜æ’æŸ¥</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/webpack/" style="font-size: 15px;">webpack</a> <a href="/tags/chorme-gc/" style="font-size: 15px;">chorme, gc</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/07/02/æ·±åº¦å®è·µï¼šæå–CSSæ—¶çš„ä¾èµ–å›¾ä¿®æ­£/">Webpack æ·±åº¦å®è·µï¼šæå–CSSæ—¶çš„ä¾èµ–å›¾ä¿®æ­£</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/21/è§†é¢‘é¡µé¢å†…å­˜æ³„éœ²çš„è¿½æŸ¥ä¸è§£å†³æ–¹æ¡ˆ/">è§†é¢‘é¡µé¢å†…å­˜æ³„éœ²çš„è¿½æŸ¥ä¸è§£å†³æ–¹æ¡ˆï¼ˆè®°ä¸€æ¬¡ Chrome GC Bug çš„å‘ç°ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/28/npm/">ä½ å¯èƒ½ä¸çŸ¥é“çš„ npm å°è§„å¾‹</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/26/webpack-module-resolve/">webpack æ¨¡å—è§£æä¹‹ commonjs å’Œ esModule æ··ç”¨é—®é¢˜</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/26/webpack-tree-shaking/">Webpack ä¸­ tree shaking åŠŸèƒ½å®ç°çš„å±€é™æ€§</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/10/18/nodejs-è°ƒç”¨-shell-çš„å‡ ä¸ªå‘/">nodejs è°ƒç”¨ shell æ—¶åº”è¯¥æ³¨æ„çš„é—®é¢˜</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="https://github.com/GaoYYYang" title="Github" target="_blank">Github</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2020 <a href="/." rel="nofollow">GaoYYYangè€å¸æœºé£™è½¦è®°å½•.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/fancyapps/fancybox/dist/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js" successtext="å¤åˆ¶æˆåŠŸ!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>